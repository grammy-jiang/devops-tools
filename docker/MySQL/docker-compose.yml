# Create Docker Network

# docker network create \
#     --driver macvlan \
#     --subnet 10.0.0.0/8 \
#     --gateway 10.0.0.1  \
#     --opt parent enp0s31f6 \
#     pub_net

version: "3"
services:
    mysql:
        container_name: dc-mysql
        environment:
            MYSQL_ROOT_PASSWORD: xxxx
        expose:
            - "3306"
        image: mysql:latest@sha256:691c55aabb3c4e3b89b953dd2f022f7ea845e5443954767d321d5f5fa394e28c
        networks:
            pub_net:
                ipv4_address: 10.0.30.0
        restart: always
        tty: true
        volumes:
            - ./mysql-data:/var/lib/mysql
    phpmyadmin:
        container_name: dc-phpmyadmin
        depends_on:
            - mysql
        environment:
            MYSQL_ROOT_PASSWORD: xxxx
            PMA_HOST: mysql
        expose:
            - "80"
        image: phpmyadmin/phpmyadmin:latest@sha256:8132f8ba07eda5af071270356efd70abd5a26ed396833417afb2294e3912ddcf
        links:
            - mysql
        networks:
            pub_net:
                ipv4_address: 10.0.30.1
        restart: always
        tty: true
        volumes:
            - ./phpmyadmin-sessions:/sessions
networks:
    pub_net:
        external: true
